(function(c,a){var d={container:a.TE(['<div class="lm_sbar">','<input type="button" class="lm_sopen">','<div><input ku="search" type="text" class="txt" hint="\u67E5\u627E\u8054\u7CFB\u4EBA..."></div>','</div>','<div class="lm_panel"></div>']),search:a.TE(['$@$for($lists$)$@$','<div class="groupopen">','<div class="settingtable qqshowbd" style="padding:4px 0 3px 8px;cursor:default;">$title$</div>','</div>','<div class="groupsub">','$@$if($addrs.length$==0)$@$','<div class="groupclose" style="margin-left:20px;">\u641C\u7D22\u4E0D\u5230\u8054\u7CFB\u4EBA</div>','$@$endif$@$','$@$for($addrs$)$@$','$@$if($email$&&$name$)$@$','<div ck="select" nid="$nid$" class="groupclose">','<a class="lm_addr" title="$email$">$@$eval getTop().htmlEncode($name$)$@$</a>','</div>','$@$endif$@$','$@$endfor$@$','</div>','$@$endfor$@$','$@$if($bShowPro$)$@$','<div class="title_business qqshowbd" >','<a href="javascript:;" class="title_business_txt">\u901A\u8BAF\u5F55<span style="color:#a0a0a0;">(\u70B9\u51FB\u9009\u62E9\u66F4\u591A\u8054\u7CFB\u4EBA)</span></a>','</div>','$@$endif$@$']),list:a.TE(['$@$for($lists$)$@$','<div class="groupopen">','<div class="settingtable qqshowbd" style="padding:4px 0 3px 8px;cursor:default;">$title$</div>','</div>','<div class="groupsub">','$@$if($addrs.length$==0)$@$','<div class="closeTip" style="margin-left:20px;">\u6682\u65F6\u6CA1\u6709\u8054\u7CFB\u4EBA</div>','$@$endif$@$','$@$for($addrs$)$@$','$@$if($email$&&$name$)$@$','<div ck="select" nid="$nid$" class="groupclose">','<a class="lm_addr" title="$email$">$@$eval getTop().htmlEncode($name$)$@$</a>','</div>','$@$endif$@$','$@$endfor$@$','</div>','$@$endfor$@$','$@$if($bShowPro$)$@$','<div class="groupopen" ck="showDlg">','<div class="title_business qqshowbd">','<a href="javascript:;" class="title_business_txt">\u901A\u8BAF\u5F55<span style="color:#a0a0a0;">(\u70B9\u51FB\u9009\u62E9\u66F4\u591A\u8054\u7CFB\u4EBA)</span></a>','</div>','</div>','$@$endif$@$'])};function b(e){this._init(e);}b.prototype={_init:function(e){var f=this;f._moConfig=e;f._moData=e.oData;f._moDom=e.oDom;f._mfSelect=e.onselect;f._mfProSelect=e.onproselect;f._initUI();},_initUI:function(){var f=this;f._moDom.innerHTML=d.container.replace({});var e=a.CN("lm_panel",f._moDom)[0];e.innerHTML=d.list.replace({bShowPro:f._mfProSelect,lists:f._moData});f._initEvent();},_initEvent:function(){var h=this;var f=({click:{select:{bPropagable:false},search:{bPropagable:false},showDlg:{bPropagable:false}},keyup:{search:{bPropagable:false}}});var e=({select:function(i,j){h._mfSelect(j.getAttribute("nid"));},showDlg:function(i,j){h._mfProSelect();},search:function(i,j){var m=a.CN("txt",h._moDom)[0];var n=m.value===m.getAttribute("hint")?"":m.value;if(n){var l=a.QMAddress.search(n,30);var k=a.CN("lm_panel",h._moDom)[0];k.innerHTML=d.search.replace({bShowPro:h._mfProSelect,lists:[{title:"\u641C\u7D22\u7ED3\u679C",addrs:l}]});}else{var k=a.CN("lm_panel",h._moDom)[0];k.innerHTML=d.list.replace({bShowPro:h._mfProSelect,lists:h._moData});}}});a.liveEvent(h._moDom,{rule:function(){return f;},events:function(){return e;}});var g=a.CN("txt",h._moDom)[0];g.value=g.getAttribute("hint");a.addEvent(g,"focus",function(i){if(g.value===g.getAttribute("hint")){g.value="";g.style.color="black";}});a.addEvent(g,"blur",function(i){if(g.value===""){g.value=g.getAttribute("hint");g.style.color="#A0A0A0";}});}};c.QMLinkman=b;})(window,getTop());